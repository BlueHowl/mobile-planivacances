Index: app/src/main/java/be/helmo/planivacances/presenter/interfaces/ICalendarView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/presenter/interfaces/ICalendarView.kt b/app/src/main/java/be/helmo/planivacances/presenter/interfaces/IActivityView.kt
rename from app/src/main/java/be/helmo/planivacances/presenter/interfaces/ICalendarView.kt
rename to app/src/main/java/be/helmo/planivacances/presenter/interfaces/IActivityView.kt
--- a/app/src/main/java/be/helmo/planivacances/presenter/interfaces/ICalendarView.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/java/be/helmo/planivacances/presenter/interfaces/IActivityView.kt	(date 1701938711871)
@@ -1,5 +1,5 @@
 package be.helmo.planivacances.presenter.interfaces
 
-interface ICalendarView : IShowToast {
+interface IActivityView : IShowToast {
     fun downloadCalendar(calendarContent:String,fileName:String)
 }
\ No newline at end of file
Index: app/src/main/java/be/helmo/planivacances/view/fragments/CalendarFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/view/fragments/CalendarFragment.kt b/app/src/main/java/be/helmo/planivacances/view/fragments/ActivityFragment.kt
rename from app/src/main/java/be/helmo/planivacances/view/fragments/CalendarFragment.kt
rename to app/src/main/java/be/helmo/planivacances/view/fragments/ActivityFragment.kt
--- a/app/src/main/java/be/helmo/planivacances/view/fragments/CalendarFragment.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/java/be/helmo/planivacances/view/fragments/ActivityFragment.kt	(date 1701939229361)
@@ -1,7 +1,6 @@
 package be.helmo.planivacances.view.fragments
 
 import android.content.Intent
-import android.net.Uri
 import android.os.Bundle
 import android.os.Environment
 import androidx.fragment.app.Fragment
@@ -13,8 +12,8 @@
 import androidx.lifecycle.lifecycleScope
 import be.helmo.planivacances.databinding.FragmentCalendarBinding
 import be.helmo.planivacances.factory.AppSingletonFactory
-import be.helmo.planivacances.presenter.interfaces.ICalendarView
-import be.helmo.planivacances.view.interfaces.ICalendarPresenter
+import be.helmo.planivacances.presenter.interfaces.IActivityView
+import be.helmo.planivacances.view.interfaces.IActivityPresenter
 import kotlinx.coroutines.Dispatchers
 import kotlinx.coroutines.MainScope
 import kotlinx.coroutines.launch
@@ -23,17 +22,17 @@
 
 /**
  * A simple [Fragment] subclass.
- * Use the [CalendarFragment.newInstance] factory method to
+ * Use the [ActivityFragment.newInstance] factory method to
  * create an instance of this fragment.
  */
-class CalendarFragment : Fragment(), ICalendarView {
+class ActivityFragment : Fragment(), IActivityView {
 
     lateinit var binding : FragmentCalendarBinding
-    lateinit var calendarPresenter: ICalendarPresenter
+    lateinit var activityPresenter: IActivityPresenter
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
-        calendarPresenter = AppSingletonFactory.instance!!.getCalendarPresenter(this)
+        activityPresenter = AppSingletonFactory.instance!!.getCalendarPresenter(this)
     }
 
     override fun onCreateView(
@@ -45,7 +44,7 @@
 
         binding.exportBtn.setOnClickListener {
             lifecycleScope.launch(Dispatchers.Main) {
-                calendarPresenter.getCalendarFile()
+                activityPresenter.getCalendarFile()
             }
         }
 
@@ -55,8 +54,8 @@
     companion object {
         const val TAG = "CalendarFragment"
 
-        fun newInstance(): CalendarFragment {
-            return CalendarFragment()
+        fun newInstance(): ActivityFragment {
+            return ActivityFragment()
         }
     }
 
Index: app/src/main/java/be/helmo/planivacances/presenter/CalendarPresenter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/presenter/CalendarPresenter.kt b/app/src/main/java/be/helmo/planivacances/presenter/ActivityPresenter.kt
rename from app/src/main/java/be/helmo/planivacances/presenter/CalendarPresenter.kt
rename to app/src/main/java/be/helmo/planivacances/presenter/ActivityPresenter.kt
--- a/app/src/main/java/be/helmo/planivacances/presenter/CalendarPresenter.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/java/be/helmo/planivacances/presenter/ActivityPresenter.kt	(date 1701939220903)
@@ -1,16 +1,15 @@
 package be.helmo.planivacances.presenter
 
-import android.util.Log
-import be.helmo.planivacances.presenter.interfaces.ICalendarView
+import be.helmo.planivacances.presenter.interfaces.IActivityView
 import be.helmo.planivacances.service.ApiClient
-import be.helmo.planivacances.view.interfaces.ICalendarPresenter
+import be.helmo.planivacances.view.interfaces.IActivityPresenter
 import be.helmo.planivacances.view.interfaces.IGroupPresenter
 
-class CalendarPresenter(private val groupPresenter: IGroupPresenter) : ICalendarPresenter {
-    private var calendarView : ICalendarView? = null
+class ActivityPresenter(private val groupPresenter: IGroupPresenter) : IActivityPresenter {
+    private var activityView : IActivityView? = null
 
-    override fun setCalendarView(calendarView: ICalendarView) {
-        this.calendarView = calendarView
+    override fun setActivityView(activityView: IActivityView) {
+        this.activityView = activityView
     }
 
     override suspend fun getCalendarFile() {
@@ -19,11 +18,11 @@
 
             if(response.isSuccessful && response.body() != null) {
                 val currentGroup  = groupPresenter.getCurrentGroup()!!
-                calendarView?.downloadCalendar(response.body()!!,"Calendrier-${currentGroup.groupName}.ics")
+                activityView?.downloadCalendar(response.body()!!,"Calendrier-${currentGroup.groupName}.ics")
             }
         } catch(e:Exception) {
             e.printStackTrace()
-            calendarView?.showToast("Erreur lors du téléchargement du calendrier",1)
+            activityView?.showToast("Erreur lors du téléchargement du calendrier",1)
         }
     }
 
Index: app/src/main/java/be/helmo/planivacances/service/ApiClient.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package be.helmo.planivacances.service\r\n\r\nimport be.helmo.planivacances.BuildConfig\r\nimport be.helmo.planivacances.service.dto.MessageDTO\r\nimport com.google.gson.Gson\r\nimport com.google.gson.GsonBuilder\r\nimport com.pusher.client.Pusher\r\nimport com.pusher.client.PusherOptions\r\nimport com.pusher.client.util.HttpChannelAuthorizer\r\nimport okhttp3.OkHttpClient\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.converter.scalars.ScalarsConverterFactory\r\nimport java.security.SecureRandom\r\nimport java.security.cert.CertificateException\r\nimport java.security.cert.X509Certificate\r\nimport javax.net.ssl.SSLContext\r\nimport javax.net.ssl.TrustManager\r\nimport javax.net.ssl.X509TrustManager\r\n\r\n\r\nobject ApiClient {\r\n    private const val BASE_API_URL: String = \"http://192.168.1.11:8080/api/\" //\"https://studapps.cg.helmo.be:5011/REST_CAO_BART/api/\" //addr ipv4 local\r\n    private const val WEATHER_API_URL: String = \"https://api.weatherapi.com/v1/\"\r\n    private const val TCHAT_AUTH_URL: String = \"http://192.168.1.11:8080/api/chat/\" //\"wss://studapps.cg.helmo.be:5011/REST_CAO_BART/websocket-groupMessages\"\r\n\r\n    private val gson : Gson by lazy {\r\n        GsonBuilder()\r\n            .setDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS\")\r\n            .setLenient()\r\n            .create()\r\n    }\r\n\r\n    private val httpClient : OkHttpClient by lazy {\r\n        // Create a trust manager that does not validate certificate chains\r\n        val trustAllCerts = arrayOf<TrustManager>(\r\n            object : X509TrustManager {\r\n                @Throws(CertificateException::class)\r\n                override fun checkClientTrusted(chain: Array<X509Certificate>, authType: String) {\r\n                }\r\n\r\n                @Throws(CertificateException::class)\r\n                override fun checkServerTrusted(chain: Array<X509Certificate>, authType: String) {\r\n                }\r\n\r\n                override fun getAcceptedIssuers(): Array<X509Certificate> {\r\n                    return arrayOf()\r\n                }\r\n            }\r\n        )\r\n\r\n        // Install the all-trusting trust manager\r\n        val sslContext = SSLContext.getInstance(\"SSL\")\r\n        sslContext.init(null, trustAllCerts, SecureRandom())\r\n\r\n        OkHttpClient.Builder()\r\n            .authenticator(TokenAuthenticator.instance!!)\r\n            .sslSocketFactory(sslContext.socketFactory, trustAllCerts[0] as X509TrustManager)\r\n            .build()\r\n    }\r\n\r\n    private val retrofit : Retrofit by lazy {\r\n        Retrofit.Builder()\r\n            .baseUrl(BASE_API_URL)\r\n            .client(httpClient)\r\n            .addConverterFactory(GsonConverterFactory.create(gson))\r\n            .build()\r\n    }\r\n\r\n    private val weatherRetrofit : Retrofit by lazy {\r\n        Retrofit.Builder()\r\n            .baseUrl(WEATHER_API_URL)\r\n            .client(httpClient)\r\n            .addConverterFactory(GsonConverterFactory.create(gson))\r\n            .build()\r\n    }\r\n\r\n    private val retrofitForStringResult : Retrofit by lazy {\r\n        Retrofit.Builder()\r\n            .baseUrl(BASE_API_URL)\r\n            .client(httpClient)\r\n            .addConverterFactory(ScalarsConverterFactory.create())\r\n            .build()\r\n    }\r\n\r\n    val authService : IAuthService by lazy{\r\n        retrofit.create(IAuthService::class.java)\r\n    }\r\n\r\n    val groupService : IGroupService by lazy{\r\n        retrofit.create(IGroupService::class.java)\r\n    }\r\n\r\n    val weatherService : IWeatherService by lazy{\r\n        weatherRetrofit.create(IWeatherService::class.java)\r\n    }\r\n\r\n    val tchatService : ITchatService by lazy {\r\n        retrofit.create(ITchatService::class.java)\r\n    }\r\n\r\n    val calendarService : ICalendarService by lazy {\r\n        retrofitForStringResult.create(ICalendarService::class.java)\r\n    }\r\n\r\n    fun getTchatInstance(): Pusher {\r\n        val headers = HashMap<String,String>()\r\n        TokenAuthenticator.instance!!.idToken?.let { headers.put(\"Authorization\", it) }\r\n        val authorizer = HttpChannelAuthorizer(TCHAT_AUTH_URL)\r\n        authorizer.setHeaders(headers)\r\n\r\n        val options = PusherOptions()\r\n        options.setCluster(BuildConfig.PUSHER_CLUSTER)\r\n        options.channelAuthorizer = authorizer\r\n\r\n        return Pusher(BuildConfig.PUSHER_KEY,options)\r\n    }\r\n\r\n    fun formatMessageToDisplay(message : String): MessageDTO? {\r\n        return gson.fromJson(message,MessageDTO::class.java)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/service/ApiClient.kt b/app/src/main/java/be/helmo/planivacances/service/ApiClient.kt
--- a/app/src/main/java/be/helmo/planivacances/service/ApiClient.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/java/be/helmo/planivacances/service/ApiClient.kt	(date 1701936305522)
@@ -103,6 +103,10 @@
         retrofitForStringResult.create(ICalendarService::class.java)
     }
 
+    val activityService : IActivityService by lazy {
+        retrofit.create(IActivityService::class.java)
+    }
+
     fun getTchatInstance(): Pusher {
         val headers = HashMap<String,String>()
         TokenAuthenticator.instance!!.idToken?.let { headers.put("Authorization", it) }
Index: app/src/main/java/be/helmo/planivacances/view/interfaces/ICalendarPresenter.kt
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/view/interfaces/ICalendarPresenter.kt b/app/src/main/java/be/helmo/planivacances/view/interfaces/ICalendarPresenter.kt
deleted file mode 100644
--- a/app/src/main/java/be/helmo/planivacances/view/interfaces/ICalendarPresenter.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ /dev/null	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
@@ -1,8 +0,0 @@
-package be.helmo.planivacances.view.interfaces
-
-import be.helmo.planivacances.presenter.interfaces.ICalendarView
-
-interface ICalendarPresenter {
-    fun setCalendarView(calendarView:ICalendarView)
-    suspend fun getCalendarFile()
-}
\ No newline at end of file
Index: app/src/main/res/navigation/nav_graph.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/nav_graph\"\r\n    app:startDestination=\"@id/authFragment\">\r\n\r\n    <fragment\r\n        android:id=\"@+id/authFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.AuthFragment\"\r\n        android:label=\"fragment_auth\"\r\n        tools:layout=\"@layout/fragment_auth\">\r\n        <action\r\n            android:id=\"@+id/action_authFragment_to_homeFragment\"\r\n            app:destination=\"@id/homeFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/homeFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.home.HomeFragment\"\r\n        android:label=\"fragment_home\"\r\n        tools:layout=\"@layout/fragment_home\">\r\n        <action\r\n            android:id=\"@+id/action_homeFragment_to_createGroupFragment\"\r\n            app:destination=\"@id/createGroupFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_homeFragment_to_groupFragment\"\r\n            app:destination=\"@id/groupFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/createGroupFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.CreateGroupFragment\"\r\n        android:label=\"fragment_create_group\"\r\n        tools:layout=\"@layout/fragment_create_group\">\r\n        <action\r\n            android:id=\"@+id/action_createGroupFragment_to_groupFragment\"\r\n            app:destination=\"@id/groupFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_createGroupFragment_to_homeFragment\"\r\n            app:destination=\"@id/homeFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/groupFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.GroupFragment\"\r\n        android:label=\"fragment_group\"\r\n        tools:layout=\"@layout/fragment_group\">\r\n        <action\r\n            android:id=\"@+id/action_groupFragment_to_homeFragment\"\r\n            app:destination=\"@id/homeFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_groupFragment_to_weatherFragment\"\r\n            app:destination=\"@id/weatherFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_groupFragment_to_calendarFragment\"\r\n            app:destination=\"@id/CalendarFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_groupFragment_to_tchatFragment\"\r\n            app:destination=\"@id/TchatFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/weatherFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.weather.WeatherFragment\"\r\n        android:label=\"fragment_weather\"\r\n        tools:layout=\"@layout/fragment_weather\">\r\n        <action\r\n            android:id=\"@+id/action_weatherFragment_to_groupFragment\"\r\n            app:destination=\"@id/groupFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/CalendarFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.CalendarFragment\"\r\n        android:label=\"fragment_calendar\"\r\n        tools:layout=\"@layout/fragment_calendar\">\r\n        <action\r\n            android:id=\"@+id/action_CalendarFragment_to_groupFragment\"\r\n            app:destination=\"@id/groupFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/TchatFragment\"\r\n        android:name=\"be.helmo.planivacances.view.fragments.tchat.TchatFragment\"\r\n        android:label=\"fragment_tchat\"\r\n        tools:layout=\"@layout/fragment_tchat\">\r\n        <action\r\n            android:id=\"@+id/action_tchatFragment_to_groupFragment\"\r\n            app:destination=\"@id/groupFragment\" />\r\n    </fragment>\r\n</navigation>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/navigation/nav_graph.xml b/app/src/main/res/navigation/nav_graph.xml
--- a/app/src/main/res/navigation/nav_graph.xml	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/res/navigation/nav_graph.xml	(date 1701938711792)
@@ -67,7 +67,7 @@
     </fragment>
     <fragment
         android:id="@+id/CalendarFragment"
-        android:name="be.helmo.planivacances.view.fragments.CalendarFragment"
+        android:name="be.helmo.planivacances.view.fragments.ActivityFragment"
         android:label="fragment_calendar"
         tools:layout="@layout/fragment_calendar">
         <action
Index: app/src/main/res/layout/fragment_calendar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".view.fragments.CalendarFragment\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/clHeader\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"64dp\"\r\n        android:background=\"@drawable/rounded_bottom_corners\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvBack2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:fontFamily=\"sans-serif-medium\"\r\n            android:text=\"Retour\"\r\n            android:textColor=\"@color/secondary_blue\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvTitle\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Calendrier\"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"28sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/exportBtn\"\r\n            android:layout_width=\"48dp\"\r\n            android:layout_height=\"48dp\"\r\n            android:layout_marginEnd=\"12dp\"\r\n            android:adjustViewBounds=\"true\"\r\n            android:background=\"@color/transparent\"\r\n            android:contentDescription=\"export calendar\"\r\n            android:padding=\"4dp\"\r\n            android:scaleType=\"fitCenter\"\r\n            android:src=\"@drawable/export_share\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    <CalendarView\r\n        android:id=\"@+id/calendarView\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/clHeader\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/calendarView\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_calendar.xml b/app/src/main/res/layout/fragment_calendar.xml
--- a/app/src/main/res/layout/fragment_calendar.xml	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/res/layout/fragment_calendar.xml	(date 1701938711808)
@@ -4,7 +4,7 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    tools:context=".view.fragments.CalendarFragment">
+    tools:context=".view.fragments.ActivityFragment">
 
     <androidx.constraintlayout.widget.ConstraintLayout
         android:id="@+id/clHeader"
Index: app/src/main/java/be/helmo/planivacances/factory/AppSingletonFactory.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package be.helmo.planivacances.factory\r\n\r\nimport be.helmo.planivacances.presenter.*\r\nimport be.helmo.planivacances.presenter.interfaces.*\r\nimport be.helmo.planivacances.view.interfaces.*\r\n\r\n/**\r\n * Factory de singleton + stockage du token\r\n */\r\nclass AppSingletonFactory() {\r\n\r\n    val authPresenter: AuthPresenter = AuthPresenter()\r\n\r\n    val groupPresenter: GroupPresenter = GroupPresenter()\r\n\r\n    val weatherPresenter: WeatherPresenter = WeatherPresenter(groupPresenter)\r\n\r\n    val tchatPresenter : TchatPresenter = TchatPresenter(groupPresenter, authPresenter)\r\n\r\n    val calendarPresenter : CalendarPresenter = CalendarPresenter(groupPresenter)\r\n\r\n    fun getAuthPresenter(authView: IAuthView): IAuthPresenter {\r\n        authPresenter.setIAuthView(authView)\r\n        return authPresenter\r\n    }\r\n\r\n    //group presenter\r\n    fun getGroupPresenter(groupView:IGroupView): IGroupPresenter {\r\n        groupPresenter.setIGroupView(groupView)\r\n        return groupPresenter\r\n    }\r\n\r\n    fun getGroupPresenter(createGroupView:ICreateGroupView): IGroupPresenter {\r\n        groupPresenter.setICreateGroupView(createGroupView)\r\n        return groupPresenter\r\n    }\r\n\r\n    fun getGroupPresenter(homeView:IHomeView): IGroupPresenter {\r\n        groupPresenter.setIHomeView(homeView)\r\n        return groupPresenter\r\n    }\r\n\r\n    //weather presenter\r\n    fun getWeatherPresenter(weatherView: IWeatherView): IWeatherPresenter {\r\n        weatherPresenter.setIWeatherView(weatherView)\r\n        return weatherPresenter\r\n    }\r\n\r\n    fun getTchatPresenter(tchatView : ITchatView) : ITchatPresenter {\r\n        tchatPresenter.setTchatView(tchatView)\r\n        return tchatPresenter\r\n    }\r\n    fun getCalendarPresenter(calendarView: ICalendarView) : ICalendarPresenter {\r\n        calendarPresenter.setCalendarView(calendarView)\r\n        return calendarPresenter\r\n    }\r\n\r\n    companion object {\r\n        var instance: AppSingletonFactory? = null\r\n            get() {\r\n                if (field == null) field = AppSingletonFactory()\r\n                return field\r\n            }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/factory/AppSingletonFactory.kt b/app/src/main/java/be/helmo/planivacances/factory/AppSingletonFactory.kt
--- a/app/src/main/java/be/helmo/planivacances/factory/AppSingletonFactory.kt	(revision 9928b80a9f5268cedbaf4c78495717fa44266e51)
+++ b/app/src/main/java/be/helmo/planivacances/factory/AppSingletonFactory.kt	(date 1701939220919)
@@ -17,7 +17,7 @@
 
     val tchatPresenter : TchatPresenter = TchatPresenter(groupPresenter, authPresenter)
 
-    val calendarPresenter : CalendarPresenter = CalendarPresenter(groupPresenter)
+    val calendarPresenter : ActivityPresenter = ActivityPresenter(groupPresenter)
 
     fun getAuthPresenter(authView: IAuthView): IAuthPresenter {
         authPresenter.setIAuthView(authView)
@@ -50,8 +50,8 @@
         tchatPresenter.setTchatView(tchatView)
         return tchatPresenter
     }
-    fun getCalendarPresenter(calendarView: ICalendarView) : ICalendarPresenter {
-        calendarPresenter.setCalendarView(calendarView)
+    fun getCalendarPresenter(calendarView: IActivityView) : IActivityPresenter {
+        calendarPresenter.setActivityView(calendarView)
         return calendarPresenter
     }
 
Index: app/src/main/java/be/helmo/planivacances/view/interfaces/IActivityPresenter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/be/helmo/planivacances/view/interfaces/IActivityPresenter.kt b/app/src/main/java/be/helmo/planivacances/view/interfaces/IActivityPresenter.kt
new file mode 100644
--- /dev/null	(date 1701939220919)
+++ b/app/src/main/java/be/helmo/planivacances/view/interfaces/IActivityPresenter.kt	(date 1701939220919)
@@ -0,0 +1,8 @@
+package be.helmo.planivacances.view.interfaces
+
+import be.helmo.planivacances.presenter.interfaces.IActivityView
+
+interface IActivityPresenter {
+    fun setActivityView(activityView: IActivityView)
+    suspend fun getCalendarFile()
+}
\ No newline at end of file
